<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="POL 212: Final Project (Winter 25) | Luca Alioto">

<title>Economic Conditions and Populist Support: County-Level Evidence from the 2016 U.S. Presidential Election – Luca Alioto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-9e228d6d4d66c12a9d11739da31c2b1c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4251a52cce185c249034d7c17982686d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Luca Alioto</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects.html"> 
<span class="menu-text">Research</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://twitter.com/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/lucaalioto" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><strong>Introduction</strong></a>
  <ul class="collapse">
  <li><a href="#causal-research-question-class-requirement" id="toc-causal-research-question-class-requirement" class="nav-link" data-scroll-target="#causal-research-question-class-requirement"><strong>Causal Research Question (Class Requirement)</strong></a></li>
  <li><a href="#research-question" id="toc-research-question" class="nav-link" data-scroll-target="#research-question"><strong>Research Question</strong></a></li>
  <li><a href="#importance-of-the-research-question" id="toc-importance-of-the-research-question" class="nav-link" data-scroll-target="#importance-of-the-research-question"><strong>Importance of the Research Question</strong></a></li>
  <li><a href="#research-design" id="toc-research-design" class="nav-link" data-scroll-target="#research-design"><strong>Research Design</strong></a></li>
  <li><a href="#key-findings" id="toc-key-findings" class="nav-link" data-scroll-target="#key-findings"><strong>Key Findings</strong></a></li>
  </ul></li>
  <li><a href="#causal-pathways-theoretical-motivation" id="toc-causal-pathways-theoretical-motivation" class="nav-link" data-scroll-target="#causal-pathways-theoretical-motivation"><strong>Causal Pathways &amp; Theoretical Motivation</strong></a>
  <ul class="collapse">
  <li><a href="#data-generating-process-dgp" id="toc-data-generating-process-dgp" class="nav-link" data-scroll-target="#data-generating-process-dgp">Data-Generating Process (DGP)</a></li>
  </ul></li>
  <li><a href="#sample" id="toc-sample" class="nav-link" data-scroll-target="#sample">Sample</a>
  <ul class="collapse">
  <li><a href="#unit-of-analysis" id="toc-unit-of-analysis" class="nav-link" data-scroll-target="#unit-of-analysis"><strong>Unit of Analysis</strong></a></li>
  <li><a href="#data-sources-coverage-and-aggregation" id="toc-data-sources-coverage-and-aggregation" class="nav-link" data-scroll-target="#data-sources-coverage-and-aggregation"><strong>Data Sources, Coverage, and Aggregation</strong></a></li>
  </ul></li>
  <li><a href="#measurement" id="toc-measurement" class="nav-link" data-scroll-target="#measurement">Measurement</a>
  <ul class="collapse">
  <li><a href="#key-variables-and-coding" id="toc-key-variables-and-coding" class="nav-link" data-scroll-target="#key-variables-and-coding">Key Variables and Coding</a></li>
  <li><a href="#control-variables" id="toc-control-variables" class="nav-link" data-scroll-target="#control-variables"><strong>Control Variables</strong></a></li>
  <li><a href="#model-specification" id="toc-model-specification" class="nav-link" data-scroll-target="#model-specification"><strong>Model Specification</strong></a></li>
  </ul></li>
  <li><a href="#results-the-effect-of-economic-conditions-on-trump-support" id="toc-results-the-effect-of-economic-conditions-on-trump-support" class="nav-link" data-scroll-target="#results-the-effect-of-economic-conditions-on-trump-support">Results: The Effect of Economic Conditions on Trump Support</a>
  <ul class="collapse">
  <li><a href="#model-estimation" id="toc-model-estimation" class="nav-link" data-scroll-target="#model-estimation">Model Estimation</a></li>
  <li><a href="#regression-diagnostics" id="toc-regression-diagnostics" class="nav-link" data-scroll-target="#regression-diagnostics">Regression Diagnostics</a></li>
  </ul></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next Steps</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Economic Conditions and Populist Support: County-Level Evidence from the 2016 U.S. Presidential Election</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>POL 212: Final Project (Winter 25) | Luca Alioto </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction"><strong>Introduction</strong></h2>
<section id="causal-research-question-class-requirement" class="level3">
<h3 class="anchored" data-anchor-id="causal-research-question-class-requirement"><strong>Causal Research Question (Class Requirement)</strong></h3>
<p>How did local economic conditions causally affect Donald Trump’s county-level support in the 2016 U.S. presidential election?</p>
</section>
<section id="research-question" class="level3">
<h3 class="anchored" data-anchor-id="research-question"><strong>Research Question</strong></h3>
<p>How did local economic conditions causally affect Donald Trump’s county-level support in the 2016 U.S. presidential election?</p>
</section>
<section id="importance-of-the-research-question" class="level3">
<h3 class="anchored" data-anchor-id="importance-of-the-research-question"><strong>Importance of the Research Question</strong></h3>
<p>Donald Trump’s presidency has been marked by significant political and institutional change, accompanied by a reconfiguration of traditional party coalitions. From his first term onward, Trump’s populist appeal thrived on voter concerns about immigration, economic uncertainty, and dissatisfaction with the political establishment. His electoral victories in 2016 and 2024 were not only driven by partisan loyalty but also by widespread economic and social grievances directed toward the structure of existing institutions (Lieberman et al., 2017). Through his populist and anti-establishment rhetoric, Trump was able to mobilize a broad coalition of voters who felt left behind by the economic status quo and were willing to sacrifice democratic norms for large-scale change. Scholars such as Levitsky and Ziblatt (2018) have claimed these actions to be a form of democratic erosion, arguing that democratic erosion often begins when elected leaders subvert institutions from within, a pattern they suggest Trump followed by undermining independent media, questioning election legitimacy, and attacking democratic checks and balances.</p>
<p>A large part of Trumps populist appeal has centered around the standard of living and economic conditions of the average American, with Trump promising to bring back manufacturing jobs, renegotiate trade deals, and challenge political elites through a strong economy. Leading up to the 2024 election, concerns over inflation, job markets, and income inequality dominated voter priorities, with a Gallup survey finding that 52% of voters ranked the economy as their top concern, even above democratic stability (Brenan, 2024).</p>
<p>The global rise of populist leaders in response to economic shocks, including inflation, supply chain disruptions, and immigration pressures, suggests a broader global pattern: during economic instability, voters may turn toward anti-establishment candidates in the hopes of pursuing change at any cost (Vision of Humanity, 2024).</p>
<p>Despite concerns around a challanging of the norms and democratic stability, Trump’s support has remained strong, raising the question:</p>
<blockquote class="blockquote">
<p><strong>Do economic hardships cause voters to support candidates who challenge the political status quo, even at the expense of democratic norms?</strong></p>
</blockquote>
<p>This study examines whether a economic grievance dynamic was at play in Trump’s first election in 2016, when the U.S. was emerging from the Great Recession and experiencing a high level of economic growth. By analyzing county-level economic performance and Trump’s vote share I explore the association between economic conditions, rather than objective economic stability and macro-level assessment, and mobilized support for Trump.</p>
</section>
<section id="research-design" class="level3">
<h3 class="anchored" data-anchor-id="research-design"><strong>Research Design</strong></h3>
<p>To examine the association between economic conditions and support for Donald Trump, I analyze county-level economic, electoral, and survey data leading up to the 2016 election. I define local economic conditions as changes in county-level GDP between the 2012 and 2016 elections and estimate their effect on Trump’s county-level vote share.</p>
<p>To address confounding, I control for key socioeconomic factors, including, college education levels, average ideological identification, racial demographics, average income levels, prior GOP support (represented as Mitt Romney 2012 vote share). Additionally, I examine whether economic perceptions mediate the relationship between actual economic conditions and voting behavior, as well as if ideology moderates this effect.</p>
</section>
<section id="key-findings" class="level3">
<h3 class="anchored" data-anchor-id="key-findings"><strong>Key Findings</strong></h3>
<p>The results indicate that economic improvement negatively affected Trump’s vote share, with counties experiencing GDP growth being less likely to support Trump, suggesting that economic conditions played a key role in mobilizing his voter base. That said, personal economic perceptions did not mediate this relationship, with voters’ assessments of the economy not being strongly influenced by objective economic conditions. Instead, ideological preferences significantly shaped economic perceptions, with ideology moderating both economic perceptions and their limited effect on Trump support.</p>
<p>These findings suggest that economic reality influenced voter behavior, affecting Trump’s vote share through ideological perceptions rather than direct economic perceptions. Overall, this study finds that economic conditions and ideological signaling outweigh democratic concerns in voter decision-making, even during periods of relative political stability.</p>
</section>
</section>
<section id="causal-pathways-theoretical-motivation" class="level2">
<h2 class="anchored" data-anchor-id="causal-pathways-theoretical-motivation"><strong>Causal Pathways &amp; Theoretical Motivation</strong></h2>
<p>A key to economic voting theory is the idea that voters reward or punish incumbents based on economic performance. A basic understanding is voters reward incumbents for economic good times, punishing it for bad. Conversely, when the economy improves, voters may be less inclined to seek drastic political change and instead opt for continuity (Lewis-Beck &amp; Nadeau, 2010).</p>
<p>Trump’s 2016 presidential campaign heavily emphasized economic grievances, particularly in regions experiencing economic shocks from globalization such as industrial decline, job loss, and wage stagnation (Colvin, 2016). His populist rhetoric was positioned and positioned as a political outsider as an anti-establishment alternative, promising to restore lost manufacturing jobs, renegotiate trade deals, and challenge political elites. From this signaling and the notion that economic distress fuels populist support, we would expect counties with weaker economic performance to have a stronger shift toward Trump in 2016.</p>
<p>While many counties followed this pattern, economic voting is often filtered through ideological and partisan biases. Perceptions of the economy may not always align with actual economic conditions, as voters tend to interpret economic performance through their existing ideological lens. As an example:</p>
<ul>
<li><p><strong>Republican-leaning voters</strong> may be more likely to perceive the economy as performing poorly under a Democratic administration (Obama, 2008–2016), regardless of objective economic indicators.</p></li>
<li><p><strong>Democratic-leaning voters</strong> may be less likely to attribute economic difficulties to systemic issues and globalization, instead focusing on social or policy-based explanations.</p></li>
</ul>
<p>This partisan filtering suggests that ideology moderates both economic perceptions and voting behavior. As a result, in this study, I consider whether economic perceptions mediate the relationship between actual economic conditions and Trump support, and whether ideology moderates the effect of both economic conditions and economic perceptions.</p>
<section id="data-generating-process-dgp" class="level3">
<h3 class="anchored" data-anchor-id="data-generating-process-dgp">Data-Generating Process (DGP)</h3>
<p>The <strong>mechanism</strong> linking economic conditions to Trump support can be conceptualized as follows:</p>
<ol type="1">
<li><p><strong>Economic Performance (</strong><span class="math inline">\(X\)</span>) changes between 2012 and 2016 at the county level as the main explanatory variable.</p></li>
<li><p>Voters in these counties <strong>form perceptions of the economy (</strong><span class="math inline">\(M\)</span>) as a potential mediator, which may or may not align with actual economic conditions.</p></li>
<li><p><strong>Ideology (</strong><span class="math inline">\(Z\)</span>) as a moderator on both:</p>
<ul>
<li>How voters interpret economic conditions</li>
<li>How economic perceptions influence Trump support</li>
</ul></li>
<li><p><strong>Support for Trump (</strong><span class="math inline">\(Y\)</span>) as the outcome, which is ultimately shaped by both objective economic performance and voters’ ideological filters.</p></li>
<li><p><strong>Key controls</strong> to block confounding paths:</p>
<ul>
<li><p>College Graduation Rates: Education is correlated with both economic performance and voting behavior.</p></li>
<li><p>Income levels: Economic performance is directly tied to income levels, which can influence voting.</p></li>
<li><p>Racial demographics: Racial composition has been shown to influence Trump support, making it an important control.</p></li>
<li><p>Prior GOP support, 2012 election: Controlling for past Republican vote share accounts for historical partisanship.</p></li>
</ul></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project_data/pol212/03_figures/dag.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>Directed Acyclic Graph (DAG)</figcaption>
</figure>
</div>
</div>
</div>
<p>Mathematically, the relationship between the Explanatory and Outcome can be represented as:</p>
<p><span class="math display">\[
Y = \beta_0 + \beta_1 X + \beta_2 M + \beta_3 Z + \beta_4 (X \times Z) + \beta_5 (M \times Z) + \epsilon
\]</span></p>
<p>Where:<br>
<span class="math inline">\(X\)</span> = Economic conditions (GDP growth) <span class="math inline">\(M\)</span> = Economic perception <span class="math inline">\(Z\)</span> = Ideology <span class="math inline">\(Y\)</span> = Trump vote share</p>
<p>Based on this framework, I test the following hypotheses:</p>
<ol type="1">
<li><p><strong>Null Hypothesis</strong> <span class="math display">\[
H_0: \text{Economic conditions had no significant effect on Trump’s county-level vote share in 2016.}
\]</span></p></li>
<li><p><strong>Economic Conditions Hypothesis (Alternative Hypothesis)</strong> <span class="math display">\[
H_1: \text{Counties with stronger economic growth between 2012 and 2016 were less likely to support Trump in 2016.}
\]</span> Economic growth reduces the likelihood of anti-establishment voting, while economic hardship fosters resentment toward the status quo.</p></li>
<li><p><strong>Economic Perception Mediation Hypothesis</strong> <span class="math display">\[
H_2: \text{The effect of economic conditions on Trump support is mediated by voters' economic perceptions.}
\]</span> If voters’ assessments of the economy reflect actual conditions, this pathway would be expected. Through this hypothesis, economic conditions would effect voters perceptions of the economy which would shift their support for Trump.</p></li>
<li><p><strong>Ideological Moderation Hypothesis</strong> <span class="math display">\[
\begin{aligned}
H_3: &amp;\text{ Ideology moderates both the relationship between economic conditions} \\
     &amp;\text{ and perceptions, and between perceptions and Trump support.}
\end{aligned}
\]</span> Partisan bias affects how voters interpret economic information, leading Republican-identifying voters to perceive the economy as worse under a Democratic incumbent, which may increase their likelihood of voting for Trump. Additionally, Ideological acts as a placeholder for other political signaling from media and Trumps framing of social issues (such as immigration and control by political elites).</p></li>
</ol>
</section>
</section>
<section id="sample" class="level2">
<h2 class="anchored" data-anchor-id="sample">Sample</h2>
<section id="unit-of-analysis" class="level3">
<h3 class="anchored" data-anchor-id="unit-of-analysis"><strong>Unit of Analysis</strong></h3>
<p>The unit of analysis for this study is the county-level Federal Information Processing Standards (FIPS) code, which uniquely identifies each county in the United States.</p>
</section>
<section id="data-sources-coverage-and-aggregation" class="level3">
<h3 class="anchored" data-anchor-id="data-sources-coverage-and-aggregation"><strong>Data Sources, Coverage, and Aggregation</strong></h3>
<p>To examine the relationship between economic conditions and Trump’s electoral performance, I integrated multiple datasets covering electoral outcomes, economic performance, public opinion, and demographic characteristics. County-level election data for the 2012 and 2016 presidential elections comes from the MIT Election Lab U.S. Election Data, which provide vote shares for each candidate across 3,156 counties. Economic conditions were measured using county-level GDP data from the Bureau of Economic Analysis (BEA), capturing yearly economic performance across the same 3,156 counties. To assess economic perceptions, I utilized Gallup Survey Data, which aggregates responses from 12 separate polls conducted between November 6, 2012, and November 8, 2016. Across these four years and 12 survey waves, there were 54,121 respondents, though the number of responses varies by question. Survey responses are coded as dummy or categorical variables.</p>
<p>While the county-level approach provides valuable insights into how local economic conditions influenced Trump’s support, it does not directly capture individual-level voting behavior. Additionally, differences in urban and rural economies may lead to variations in how economic conditions affect political preferences. The Gallup survey data, being aggregated at the county level, reflects broad economic perceptions rather than the sentiments of individual voters. Despite these limitations, the sources allows for an initial analysis of how local economic conditions and public perceptions shaped Trump’s electoral performance in 2016.</p>
</section>
</section>
<section id="measurement" class="level2">
<h2 class="anchored" data-anchor-id="measurement">Measurement</h2>
<section id="key-variables-and-coding" class="level3">
<h3 class="anchored" data-anchor-id="key-variables-and-coding">Key Variables and Coding</h3>
<p>This study examines how local economic conditions (<span class="math inline">\(X\)</span>) affect Trump’s vote share (<span class="math inline">\(Y\)</span>), while accounting for potential mediation by economic perceptions (<span class="math inline">\(M\)</span>) and moderation by ideology (<span class="math inline">\(Z\)</span>).</p>
<p>Independent Variable (<span class="math inline">\(X\)</span>): Economic Conditions - Measured as county-level GDP growth between 2012 and 2016. Constructed as a binary indicator:</p>
<p><span class="math display">\[
  \text{Positive Change in GDP} =
    \begin{cases}
      1, &amp; \text{if county GDP increased from 2012 to 2016} \\
      0, &amp; \text{if county GDP declined or remained stagnant}
    \end{cases}
\]</span></p>
<p>Dependent Variable (<span class="math inline">\(Y\)</span>): Trump’s Vote Share - Measured as the percentage of total votes cast for Donald Trump in each county in the 2016 election:</p>
<p><span class="math display">\[
\text{Trump Vote Share} = \frac{\text{Trump Votes}}{\text{Total Votes}} \times 100
\]</span></p>
<p>Mediator (<span class="math inline">\(M\)</span>): Economic Perceptions - Measured as the percentage of county residents who believed the economy was improving (from Gallup survey data):</p>
<p><span class="math display">\[
  \text{Economy is Improving} =
    \begin{cases}
      1, &amp; \text{if majority reported improving conditions} \\
      0, &amp; \text{otherwise}
    \end{cases}
\]</span></p>
<p>Moderator (<span class="math inline">\(Z\)</span>): Ideology - Measured as average county-level ideology score based on survey responses. - Standardized to a five point scale from 0 (Conservative) to 5 (Liberal), with those reporting “Don’t Know” coded as Moderate.</p>
<p><span class="math display">\[
  \text{Ideology} =
    \begin{cases}
      1, &amp; \text{Very conservative} \\
      2, &amp; \text{Conservative} \\
      3, &amp; \text{Moderate} \\
      4, &amp; \text{Liberal} \\
      5, &amp; \text{Very liberal}
    \end{cases}
\]</span></p>
</section>
<section id="control-variables" class="level3">
<h3 class="anchored" data-anchor-id="control-variables"><strong>Control Variables</strong></h3>
<p>To mitigate confounding, the following variables are included:</p>
<ul>
<li><p><strong>College Education</strong>: Percentage of county residents with a college degree.</p></li>
<li><p><strong>Income</strong>: The average Household income of a respondents as a numeric scale from 1 to 11, where lower values represent lower income levels and higher values represent higher income levels: <span class="math display">\[
  \begin{aligned}
  &amp;1 = \text{Less than } \$10K, \quad
  2 = \$10K\text{-}\$20K, \quad
  3 = \$20K\text{-}\$30K, \quad
  4 = \$30K\text{-}\$40K, \quad
  5 = \$40K\text{-}\$50K, \\
  &amp;6 = \$50K\text{-}\$75K, \quad
  7 = \$75K\text{-}\$99K, \quad
  8 = \$100K\text{-}\$149K, \quad
  9 = \$150K\text{-}\$249K, \quad
  10 = \$250K\text{-}\$499K, \\
  &amp;11 = \$500K \text{ and over}  
  \end{aligned}
\]</span></p></li>
<li><p><strong>Race</strong>: Percentage of county population that is non-Hispanic White.</p></li>
<li><p><strong>Partisan History</strong>: Vote share for Mitt Romney (2012 election) as a proxy for historical GOP support.</p></li>
</ul>
<p>Visualizing the Distributions</p>
<p>To better understand the distribution of GDP growth across counties, we first visualize the number of counties that experienced positive versus negative GDP change.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%"></p>
</figure>
</div>
</div>
</div>
<p>The graph shows that far more counties experienced positive GDP growth than negative GDP growth. This imbalance may pose a challenge when attempting to estimate the causal effect of economic conditions on Trump’s vote share, as counties experiencing economic decline are fewer in number and may differ systematically from those experiencing growth.</p>
<p>Next, we visualize the relationship between GDP growth and Trump support:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%"></p>
</figure>
</div>
</div>
</div>
<p>This plot provides a visual comparison of Trump’s vote share across counties with positive versus negative GDP growth. While the plot shows the expected negative relationship between GDP growth and Trump support,this visualization does not control for potential confounders, making it difficult to infer a causal relationship.</p>
<p>Additionally, a key challenge in measuring the causal relationship between GDP growth and Trump support is the non-random distribution of economic growth across counties. To explore this issue, we examine whether counties that experienced GDP growth systematically differ from those that did not along key socioeconomic characteristics.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>These boxplots illustrate differences in key demographic and economic characteristics across counties with positive versus negative GDP growth. The findings suggest that GDP growth is not randomly assigned across counties, but rather correlated with pre-existing socioeconomic conditions. These relationships can be confirmed with a series of t-tests comparing key variables across GDP groups.</p>
<p>These T-tests reveal that counties experiencing GDP growth had significantly higher average incomes(<span class="math inline">\(p\)</span>= 0.003), college graduation rates (<span class="math inline">\(p\)</span> = 0.00001), and White population shares (<span class="math inline">\(p\)</span> = 0.039).Furthermore, economic perceptions differed significantly across GDP groups (<span class="math inline">\(p\)</span>=0.017), suggesting that voters in counties with actual GDP growth were more likely to report that the economy was improving. These results indicate that GDP growth is correlated with key socioeconomic and political factors, raising concerns about potential confounding in our estimates. While controlling for these variables helps mitigate bias, the fundamental issue remains that GDP growth is not an exogenous shock, making it difficult to fully isolate its causal effect on Trump’s support.</p>
</section>
<section id="model-specification" class="level3">
<h3 class="anchored" data-anchor-id="model-specification"><strong>Model Specification</strong></h3>
<p>To estimate the relationship between economic conditions and Trump’s support, I use an Ordinary Least Squares (OLS) regression model, gradually adding controls and interaction terms.</p>
<p><span class="math display">\[
Y = \beta_0 + \beta_1 X + \beta_2 M + \beta_3 Z + \beta_4 (X \times Z) + \beta_5 (M \times Z) + \epsilon
\]</span></p>
<p><strong>Model Progression:</strong></p>
<ol type="1">
<li><strong>Bivariate Model (Baseline):</strong> <span class="math display">\[
Y = \beta_0 + \beta_1 X + \epsilon
\]</span></li>
<li><strong>Adding Controls:</strong> <span class="math display">\[
Y = \beta_0 + \beta_1 X + \sum \beta_k \text{Controls} + \epsilon
\]</span></li>
<li><strong>Testing for Mediation:</strong> <span class="math display">\[
Y = \beta_0 + \beta_1 X + \beta_2 M + \sum \beta_k \text{Controls} + \epsilon
\]</span></li>
<li><strong>Testing for Moderation:</strong></li>
</ol>
<p><span class="math display">\[
   Y = \beta_0 + \beta_1 X + \beta_3 Z + \beta_4 (X \times Z) + \sum \beta_k \text{Controls} + \epsilon
\]</span></p>
<ol start="5" type="1">
<li><strong>Full Model with Interaction Terms:</strong></li>
</ol>
<p><span class="math display">\[
   Y = \beta_0 + \beta_1 X + \beta_2 M + \beta_3 Z + \beta_4 (X \times Z) + \beta_5 (M \times Z) + \sum \beta_k \text{Controls} + \epsilon
\]</span></p>
<p>Where:</p>
<ul>
<li><p><span class="math inline">\(Y\)</span> = Trump Vote Share</p></li>
<li><p><span class="math inline">\(X\)</span> = Economic Conditions</p></li>
<li><p><span class="math inline">\(M\)</span> = Economic Perceptions</p></li>
<li><p><span class="math inline">\(Z\)</span> = Ideology</p></li>
<li><p><span class="math inline">\(\sum \beta_k \text{Controls}\)</span> = Set of socioeconomic and political controls - <span class="math inline">\(\epsilon\)</span> = Error term</p></li>
</ul>
</section>
</section>
<section id="results-the-effect-of-economic-conditions-on-trump-support" class="level2">
<h2 class="anchored" data-anchor-id="results-the-effect-of-economic-conditions-on-trump-support">Results: The Effect of Economic Conditions on Trump Support</h2>
<p>The regression results provide strong evidence that local economic conditions influenced support for Donald Trump in the 2016 presidential election. Across all models, counties which saw a Positive Change in GDP were less likely to vote for Trump, supporting the economic conditions hypothesis (<span class="math inline">\(H_1\)</span>). That said the relationship between Change in GDP and Trump Support was significantly moderated by Average Ideology, suggesting that the effect of economic conditions on voting behavior depended on the ideological predispositions of voters. As well, while Positive Perceptions of the Economy correlated with economic conditions, they did not fully mediate the effect, indicating that objective economic conditions played an independent role in shaping voter behavior rather than perceptions in the economy.</p>
<section id="model-estimation" class="level3">
<h3 class="anchored" data-anchor-id="model-estimation">Model Estimation</h3>
<p>To estimate the relationship between economic conditions and support for Trump, I use an Ordinary Least Squares (OLS) regression model, gradually adding controls and interaction terms.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project_data/pol212/03_figures/table1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>The initial model establishes the effect of Positive Change in GDP on Trump Vote Share without any controls. In this model, the coefficient for Positive Change in GDP is negative and statistically significant, indicating that counties experiencing economic improvement were less likely to support Trump, supporting the Economic Conditions Hypothesis (<span class="math inline">\(H_1\)</span>).</p>
<p>While the magnitude of the effect decreases after introducing the control variables Average Ideology, Percent College Graduates, Average Income, Percent White Population, and Previous GOP Vote Share, the coefficient for Positive Change in GDP remains negative and statistically significant. This suggests that while economic conditions influence Trump support, other demographic and economic factors also play an important role in voter decision-making.</p>
<p>The third model tests the Economic Perception Mediation Hypothesis (<span class="math inline">\(H_2\)</span>), examining whether economic perceptions mediate the relationship between economic conditions and Trump support. If economic perceptions were a strong mediator, we would expect the effect size of Positive Change in GDP to substantially decrease or become non-significant when Positive Perceptions of the Economy is added to the model.</p>
<p>The results show that while economic perceptions are significantly correlated with economic conditions, they do not fully mediate the effect. The coefficient for Positive Change in GDP remains statistically significant even after controlling for Positive Perceptions of the Economy, indicating that economic improvement reduced Trump support beyond just voters’ subjective economic perceptions. This suggests that other mechanisms, such as economic resentment or partisan framing of economic issues, may also play a role.</p>
<p>The final model introduces interaction terms to assess whether Average Ideology moderates the effect of Positive Change in GDP on Trump Vote Share. The results confirm the Ideological Moderation Hypothesis (<span class="math inline">\(H_3\)</span>), showing that the interaction term for Positive Change in GDP and Average Ideology is negative and statistically significant. This indicates that economic growth had a stronger negative effect on Trump support in liberal counties but had a much weaker or near-zero effect in conservative counties. In other words, voters in liberal areas were more likely to shift away from Trump when their local economy improved, whereas conservative voters remained supportive of Trump regardless of economic growth.</p>
<p>These results align with the Data-Generating Process (DGP) outlined in our DAG, showing that economic conditions influence Trump support through ideological signaling rather than direct economic perceptions. This suggests that voters’ economic assessments are shaped by partisan identity and ideological framing, rather than by objective economic performance alone. Additionally, these findings reinforce the broader theory that outside of traditionally conservative areas which may be already in support of a Republican candidate, economic conditions significantly impact voter behavior, increasing the appeal of populist candidates in times of economic distress. This highlights how economic discontent fuels anti-establishment sentiment, particularly in politically competitive areas and areas which are not traditionally conservative where economic vulnerability plays a greater role in shaping electoral outcomes.</p>
</section>
<section id="regression-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="regression-diagnostics">Regression Diagnostics</h3>
<p>To ensure the robustness of our models and the findings, we ran several diagnostic on our OLS Regressions.</p>
<p><strong>Residual Analysis: Check for Linearity &amp; Homoscedasticity</strong></p>
<p>Residual plots were used to check whether residuals were randomly distributed around zero and whether their variance remained constant across fitted values. These diagnostics help evaluate the assumptions of linearity and homoskedasticity.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>           Test stat Pr(&gt;|Test stat|)    
Tukey test   -8.0319          9.6e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>The residual–fitted plot shows a random scatter of residuals around zero, with no visible curvature or funnel-shaped patterns. This suggests that the linearity assumption is satisfied, indicating that the model appropriately captures the relationship between predictors and Trump’s vote share. As well, it suggests that the residual variance is approximately constant, supporting the assumption of homoskedasticity.</p>
<p><strong>Influence Diagnostics: Identify Highly Influential Observations</strong></p>
<p>Additionally, influence diagnostics were conducted to identify observations that may have a disproportionate effect on the regression coefficients. Here two plots were used, the first being a leverage plot which identifies counties with unusually large leverage values (those far from the mean of predictor variables) and the seccond being Cook’s Distance Plot which identifies counties that, if removed, would substantially change the regression estimates.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      StudRes        Hat      CookD
1946 1.516278 0.10950985 0.02824798
2704 2.939619 0.05987223 0.05474018</code></pre>
</div>
</div>
<p>From these tests, we find a small number of counties which had relatively high leverage or Cook’s Distance values, but these did not substantially alter the regression coefficients. After re-estimating the model with these influential points removed, the results remained stable, confirming that the main findings are not driven by outliers.</p>
<p><strong>Model 5: Removing Influential Observations</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="project_data/pol212/03_figures/table2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>The Residual analysis confirmed that the linear model specification was mostly appropriate, though minor deviations and outliers existed within the data. The Cook’s Distance analysis identified a small number of high-leverage counties that disproportionately influenced the model. After removing these influential observations and re-estimating the regression, the coefficients remained stable, confirming that the results were not driven by a few outliers.</p>
<p><strong>Visualizing the Interaction Effects</strong></p>
<p>Additionally, the predicted values from Model 4 allow us to visualize the interaction effect between Positive Change in GDP and Average Ideology on Trump Vote Share. The graph plots how the expected Trump vote share changes across different levels of ideology when a county experiences economic growth.</p>
<p><strong>Interaction Between GDP Growth and Ideology on Trump Support:</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>This visualization confirms the moderation effect observed in Model 4, with the slope of the predicted vote share indicating that economic growth is associated with a decline in Trump support, but this effect is conditional on ideology. In more liberal counties (higher Average Ideology scores represented by 3.04 on the graph), a Positive Change in GDP leads to a stronger decrease in Trump Vote Share. In conservative counties (lower Average Ideology scores represented by 2.23), a Positive Change in GDP has a much weaker or near-zero effect on Trump support.</p>
<p>This suggests that liberal voters were more likely to shift away from Trump in response to economic growth, whereas conservative voters were largely unresponsive to changes in local economic conditions. This interaction highlights how partisan biases filter economic conditions, reinforcing the idea that conservative voters’ support for Trump was less dependent on economic performance, while liberal and moderate voters were more likely to adjust their preferences based on economic growth.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Baseline group not specified; choose treat = 0 as the baseline group. </code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pol212_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>The graph illustrates the moderation effect of ideology on the relationship between GDP growth (Positive Change in GDP) and Trump support (Trump Vote Share %)</p>
<p>The downward-sloping black line represents the interaction effect trend, indicating that as ideology becomes more liberal, the effect of GDP growth on Trump support becomes more negative. This means that in liberal counties, economic growth significantly reduces Trump support, whereas in conservative counties, GDP growth has little to no impact on Trump’s vote share.</p>
<p>These results align with the Ideological Moderation Hypothesis (<span class="math inline">\(H_3\)</span>), which posits that partisan identity conditions how voters respond to economic conditions. The findings suggest that conservative voters are largely unaffected by economic improvements, whereas liberals and moderates are more likely to shift away from Trump when economic conditions improve. This supports the argument that economic voting is asymmetric, with economic performance shaping electoral outcomes primarily among non-conservative voters, while conservatives remain largely committed to their political preferences regardless of economic conditions.</p>
</section>
</section>
<section id="next-steps" class="level2">
<h2 class="anchored" data-anchor-id="next-steps">Next Steps</h2>
<p>This study provides a foundation for understanding how economic conditions shaped support for Donald Trump in the 2016 election, but there are several approaches that could be taken to expand on these findings.</p>
<p>One key direction would be to examine how views on immigration and gender biases interact with economic conditions to influence Trump support. Given that Trump’s campaign rhetoric heavily emphasized immigration restrictions and anti-establishment populism, voter perceptions of immigration may serve as a stronger predictor of support than economic conditions alone. This may be especially true in counties which saw significant economic decline, such as manufacturing hubs and highly industrial areas, as a result of globalization which may be more likely to direct their dissatisfaction toward immigrants. As well, given the role of gender dynamics in U.S. elections, exploring attitudes toward women in leadership could help explain whether gender biases played a role in voter preferences.</p>
<p>Another interesting expansion of this project would be to apply similar methodology to the 2024 U.S. presidential election, a period characterized by greater economic shock and a more extreme Trump platform centered on democratic backsliding and institutional dismantlement. Studying how economic conditions influenced support for Trump in 2024—in a context of heightened political polarization, inflationary pressures, and global economic instability, may offer insight into whether economic grievances remain a key driver of Trump’s appeal or whether institutional concerns and political identity have overtaken economic factors in shaping voter behavior. Additionally, as Trump appealed to the success of his previous economy, examining the perceptions of the economy during Trumps first presidency as well as the actual economic change could provide insight into how voters interpreted his economic performance.</p>
<p>Additionally, while this paper poses a causal question, the methodology employed identifies only associations between the independent and dependent variables rather than a true causal relationship. The current research design presented in this paper cannot fully disentangle which mediating mechanisms matter most, nor can it block all potential backdoor paths between economic conditions and electoral outcomes.</p>
<p>Future iterations of this project could strengthen causal inference by adopting quasi-experimental or instrumental variable (IV) approaches. As an example, studies such as “Importing Political Polarization? The Electoral Consequences of Rising Trade Exposure” (Autor, Dorn, Hanson, &amp; Majlesi) use exogenous shocks to local labor markets—specifically, trade exposure to Chinese imports—as an instrument for economic distress. A similar research design could be applied here by identifying exogenous sources of variation in local economic performance, such as manufacturing plant closures, trade exposure indices, or resource shocks. Using this methodology would help isolate the causal effect of local economic change on political preferences and clarify the mechanisms linking economic hardship to populist support.</p>
<p>By incorporating these extensions, future studies could provide a more comprehensive picture of the economic, social, and ideological factors that drive populist support in the U.S. and offer a comparative lens on how economic and institutional concerns evolved between 2016 and 2024.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Luca Alioto</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>